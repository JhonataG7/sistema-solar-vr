<!DOCTYPE html>

<html lang="pt-br">
<head>
  <meta charset="utf-8" />
  <title>Sistema Solar VR</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <script src="https://aframe.io/releases/1.4.0/aframe.min.js"></script>

  <style>
    body { margin: 0; background: #000; }

    /* HUD 2D */
    #hudInfo {
      position: fixed;
      top: 15px;
      left: 15px;
      width: 280px;
      padding: 12px;
      background: rgba(0,0,0,0.55);
      border: 1px solid rgba(255,255,255,0.25);
      border-radius: 8px;
      color: white;
      font-family: Arial, sans-serif;
      display: none;
      z-index: 9999;
    }
    #hudInfo h2 {
      margin: 0 0 8px 0;
      font-size: 20px;
    }
    #hudInfo p {
      margin: 0;
      font-size: 15px;
      white-space: pre-line;
    }

    /* MIRA 2D */
    #crosshair {
      position: fixed;
      top: 50%;
      left: 50%;
      width: 14px;
      height: 14px;
      margin-left: -7px;
      margin-top: -7px;
      border: 2px solid white;
      border-radius: 50%;
      pointer-events: none;
      z-index: 9999;
    }
  </style>

  <script>
  /* ============================
       TEXTURAS GERADAS
     ============================ */

  function createStarTexture(width=4096,height=2048,starCount=5000){
    const c=document.createElement('canvas');
    c.width=width; c.height=height;
    const ctx=c.getContext('2d');

    ctx.fillStyle="#000";
    ctx.fillRect(0,0,width,height);

    for(let i=0;i<starCount;i++){
      const x=Math.random()*width;
      const y=Math.random()*height;
      const r=Math.random()*1.8;
      ctx.fillStyle=`rgba(255,255,255,${0.5+Math.random()*0.5})`;
      ctx.beginPath();
      ctx.arc(x,y,r,0,Math.PI*2);
      ctx.fill();
    }
    return c.toDataURL("image/jpeg",0.9);
  }

  function createSaturnRingTexture(size=2048){
    const c=document.createElement('canvas');
    c.width=size; c.height=size;
    const ctx=c.getContext('2d');

    const cx=size/2, cy=size/2;
    const outer=size*0.48;
    const inner=size*0.18;

    for(let i=0;i<200;i++){
      let t=i/199;
      let rInner=inner+(outer-inner)*t;
      let thick=(outer-inner)/200;
      let g=160+Math.random()*70;
      let alpha=0.25+Math.random()*0.12;

      ctx.beginPath();
      ctx.fillStyle=`rgba(${g},${g},${g},${alpha})`;
      ctx.arc(cx,cy,rInner+thick,0,Math.PI*2);
      ctx.arc(cx,cy,rInner,0,Math.PI*2,true);
      ctx.fill();
    }

    return c.toDataURL("image/png");
  }

  document.addEventListener("DOMContentLoaded",()=>{
    const assets=document.createElement("a-assets");

    const sky=document.createElement("img");
    sky.id="gen-sky";
    sky.src=createStarTexture();
    assets.appendChild(sky);

    const ring=document.createElement("img");
    ring.id="gen-ring";
    ring.src=createSaturnRingTexture();
    assets.appendChild(ring);

    document.querySelector("a-scene").appendChild(assets);
  });
  </script>

</head>

<body>

<!-- HUD VISUAL 2D -->

<div id="hudInfo">
  <h2 id="hudTitle"></h2>
  <p id="hudText"></p>
</div>

<!-- MIRA 2D -->

<div id="crosshair"></div>

<a-scene background="color: black">

  <!-- CÃ‰U -->

<a-sky src="#gen-sky" rotation="0 -90 0"></a-sky>

  <!-- TEXTURAS -->

  <a-assets timeout="20000">
      <img id="tex-sun" src="./textures/2k_sun.jpg">
      <img id="tex-mercury" src="./textures/2k_mercury.jpg">
      <img id="tex-venus" src="./textures/2k_venus_surface.jpg">
      <img id="tex-earth" src="./textures/2k_earth_daymap.jpg">
      <img id="tex-mars" src="./textures/2k_mars.jpg">
      <img id="tex-jupiter" src="./textures/2k_jupiter.jpg">
      <img id="tex-saturn" src="./textures/2k_saturn.jpg">
      <img id="tex-uranus" src="./textures/2k_uranus.jpg">
      <img id="tex-neptune" src="./textures/2k_neptune.jpg">
  </a-assets>

  <!-- CAMERA -->

<a-entity 
   camera 
   look-controls="pointerLockEnabled: true"
   wasd-controls="acceleration: 25"
   position="0 1.6 8"
   cursor="fuse: false"
   raycaster="objects: .planet"> </a-entity>

  <!-- LUZ DO SOL -->

<a-entity light="type: point; intensity: 2" position="0 0 0"></a-entity>

  <!-- SOL -->

<a-sphere 
   src="#tex-sun"
   radius="1.7"
   emissive="#ffaa00"
   emissiveIntensity="1.25"> </a-sphere>

  <!-- MERCÃšRIO -->

<a-sphere src="#tex-mercury" position="3 0 -5" radius="0.22"
         animation="property: rotation; to: 0 360 0; dur: 12000; loop: true"
         class="planet" data-name="MercÃºrio"></a-sphere>

  <!-- VÃŠNUS -->

<a-sphere src="#tex-venus" position="5 0 -7" radius="0.36"
         animation="property: rotation; to: 0 -360 0; dur: 18000; loop: true"
         class="planet" data-name="VÃªnus"></a-sphere>

  <!-- TERRA -->

<a-sphere src="#tex-earth" position="7.5 0 -10" radius="0.40"
         animation="property: rotation; to: 0 360 0; dur: 16000; loop: true"
         class="planet" data-name="Terra"></a-sphere>

  <!-- MARTE -->

<a-sphere src="#tex-mars" position="10 0 -12" radius="0.32"
         animation="property: rotation; to: 0 360 0; dur: 20000; loop: true"
         class="planet" data-name="Marte"></a-sphere>

  <!-- JÃšPITER -->

<a-sphere src="#tex-jupiter" position="15 0 -15" radius="0.95"
         animation="property: rotation; to: 0 360 0; dur: 30000; loop: true"
         class="planet" data-name="JÃºpiter"></a-sphere>

  <!-- SATURNO -->

  <a-entity position="20 0 -17">
      <a-sphere id="saturn" src="#tex-saturn" radius="0.78"
                animation="property: rotation; to: 0 360 0; dur: 32000; loop: true"
                class="planet" data-name="Saturno"></a-sphere>

```
  <a-torus radius="1.35"
           radius-tubular="0.08"
           segments-radial="128"
           segments-tubular="64"
           rotation="90 0 0"
           material="src: #gen-ring; transparent: true; opacity: 1; side: double">
  </a-torus>
```

  </a-entity>

  <!-- URANO -->

<a-sphere src="#tex-uranus" position="25 0 -19" radius="0.62"
         animation="property: rotation; to: 0 360 0; dur: 35000; loop: true"
         class="planet" data-name="Urano"></a-sphere>

  <!-- NETUNO -->

<a-sphere src="#tex-neptune" position="30 0 -22" radius="0.58"
         animation="property: rotation; to: 0 360 0; dur: 38000; loop: true"
         class="planet" data-name="Netuno"></a-sphere>

</a-scene>

<script>
/* INFO DOS PLANETAS */
const info = {
  "MercÃºrio": [
"â˜€ï¸ Mais prÃ³ximo do Sol",
"ðŸŒ¡ï¸ Temperaturas de +430Â°C de dia e -180Â°C Ã  noite",
"ðŸª¨ Planeta rochoso e sem atmosfera significativa",
"âš« Possui a maior cratera conhecida: Caloris"
],
"VÃªnus": [
"ðŸ”¥ Planeta mais quente do Sistema Solar",
"ðŸŒ«ï¸ Atmosfera 96% diÃ³xido de carbono",
"â˜ï¸ Nuvens de Ã¡cido sulfÃºrico",
"ðŸ”„ RotaÃ§Ã£o ao contrÃ¡rio: o Sol nasce no oeste"
],
"Terra": [
"ðŸŒ Ãšnico planeta conhecido com vida",
"ðŸŒŠ 70% coberto por Ã¡gua",
"ðŸ§² Campo magnÃ©tico protege dos ventos solares",
"ðŸŒ¡ï¸ Clima variado e em constante mudanÃ§a"
],
"Marte": [
"ðŸ”´ Conhecido como 'Planeta Vermelho'",
"ðŸ§Š Ãgua congelada nos polos",
"â›°ï¸ Lar do Monte Olimpo â€“ o maior vulcÃ£o do Sistema Solar",
"ðŸŒªï¸ Tempestades de poeira que podem cobrir o planeta inteiro"
],
"JÃºpiter": [
"âš¡ Maior planeta do Sistema Solar",
"ðŸŒ€ Grande Mancha Vermelha: tempestade ativa hÃ¡ 350 anos",
"ðŸ§² Maior campo magnÃ©tico do Sistema Solar",
"ðŸ›°ï¸ Possui 95 luas confirmadas"
],
"Saturno": [
"ðŸ’ Famoso pelos anÃ©is impressionantes",
"ðŸŒ¬ï¸ Ventos de atÃ© 1800 km/h",
"ðŸª Menos denso que a Ã¡gua â€“ flutuaria num oceano gigante",
"ðŸ›°ï¸ Possui mais de 140 luas conhecidas"
],
"Urano": [
"ðŸ”µ Cor azul-esverdeada por causa do metano",
"ðŸŒ€ InclinaÃ§Ã£o de 98Â° â€“ gira 'deitado'",
"ðŸ¥¶ Temperaturas chegam a -224Â°C",
"ðŸ’« AnÃ©is tÃªnues e difÃ­ceis de ver"
],
"Netuno": [
"ðŸŒŠ Azul profundo pela alta concentraÃ§Ã£o de metano",
"ðŸŒªï¸ Ventos mais rÃ¡pidos do Sistema Solar â€“ 2.100 km/h",
"â„ï¸ Temperatura mÃ©dia: -214Â°C",
"ðŸŒ€ Lar da Grande Mancha Escura â€“ uma tempestade gigante"
]
};

/* ELEMENTOS DO HUD */
const hud = document.getElementById("hudInfo");
const title = document.getElementById("hudTitle");
const text = document.getElementById("hudText");

/* EXIBIR INFO AO MIRAR NO PLANETA */
document.querySelectorAll(".planet").forEach(planet => {
  
  planet.addEventListener("mouseenter", () => {
    const name = planet.dataset.name;
    if (!name) return;
    title.innerText = name;
    text.innerText = info[name].join("\n");
    hud.style.display = "block";
  });

  planet.addEventListener("mouseleave", () => {
    hud.style.display = "none";
  });

});
</script>


</body>
</html>
